<h2 mat-dialog-title>Edit Article</h2>
<mat-dialog-content class="mat-typography">
  <div class="flex justify-center items-center">
    <mat-card class="example-card">
      <mat-card-header class="flex justify-center mb-2">
        <mat-card-title>Update Article</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form [formGroup]="articleForm" (ngSubmit)="onSubmit()">
          <!-- Title Field -->
          <mat-form-field class="w-full">
            <mat-label>Title</mat-label>
            <input matInput formControlName="title" />
            <mat-error *ngIf="articleForm.get('title')?.hasError('required')">
              Title is required.
            </mat-error>
            <mat-error *ngIf="articleForm.get('title')?.hasError('minlength')">
              Title must be at least 3 characters long.
            </mat-error>
            <mat-error *ngIf="articleForm.get('title')?.hasError('maxlength')">
              Title cannot exceed 100 characters.
            </mat-error>
            <mat-error *ngIf="articleForm.get('title')?.hasError('pattern')">
              Title cannot have leading or trailing spaces.
            </mat-error>
          </mat-form-field>

          <!-- Description Field -->
          <mat-form-field class="w-full">
            <mat-label>Description</mat-label>
            <input matInput formControlName="description" />
            <mat-error *ngIf="articleForm.get('description')?.hasError('required')">
              Description is required.
            </mat-error>
            <mat-error *ngIf="articleForm.get('description')?.hasError('minlength')">
              Description must be at least 10 characters long.
            </mat-error>
            <mat-error *ngIf="articleForm.get('description')?.hasError('maxlength')">
              Description cannot exceed 78 words.
            </mat-error>
            <mat-error *ngIf="articleForm.get('description')?.hasError('pattern')">
              Description cannot have leading or trailing spaces.
            </mat-error>
          </mat-form-field>

          <!-- Content Field -->
          <mat-form-field class="w-full">
            <mat-label>Content</mat-label>
            <textarea matInput formControlName="content"></textarea>
            <mat-error *ngIf="articleForm.get('content')?.hasError('required')">
              Content is required.
            </mat-error>
            <mat-error *ngIf="articleForm.get('content')?.hasError('minlength')">
              Content must be at least 50 characters long.
            </mat-error>
            <mat-error *ngIf="articleForm.get('content')?.hasError('pattern')">
              Content cannot have leading or trailing spaces.
            </mat-error>
          </mat-form-field>

          <!-- Image Field -->
          <div class="mb-4">
            <label>Article Image</label>
            <img
              *ngIf="imagePreview"
              [src]="imagePreview"
              alt="Previous Image"
              class="w-40 h-40 object-cover mb-2"
            />
            <input
              type="file"
              class="mt-2"
              (change)="onFileChange($event)"
              accept="image/*"
            />
          </div>

          <!-- Actions -->
          <mat-dialog-actions class="flex justify-between">
            <button mat-button mat-dialog-close>Cancel</button>
            <button
              type="submit"
              mat-button
              cdkFocusInitial
              [disabled]="articleForm.invalid"
            >
              Update
            </button>
          </mat-dialog-actions>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</mat-dialog-content>
